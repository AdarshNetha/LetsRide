<!DOCTYPE html>
<html>
<head>
    <title>Register Driver & Vehicle</title>
</head>
<body>

<h2>Driver & Vehicle Registration</h2>

<form id="driverForm">

   <label> LicenceNo:<input type="number" placeholder="Licence No" id="licenceNo" required></label><br><br>
    <input type="text" placeholder="UPI ID" id="upiid"><br><br>
    <input type="text" placeholder="Name" id="name"><br><br>
    <input type="number" placeholder="Age" id="age"><br><br>
    <input type="number" placeholder="Mobile No" id="mobileNo"><br><br>
    <input type="text" placeholder="Gender" id="gender"><br><br>
    <input type="email" placeholder="Email" id="mail"><br><br>

    <input type="text" placeholder="Vehicle Name" id="vehilename"><br><br>
    <input type="text" placeholder="Vehicle No" id="vehileno"><br><br>
    <input type="text" placeholder="Type" id="type"><br><br>
    <input type="text" placeholder="Model" id="model"><br><br>
    <input type="text" placeholder="Capacity" id="capacity"><br><br>

    <input type="number" placeholder="Longitude" id="longitude"><br><br>
    <input type="number" placeholder="Latitude" id="lattitude"><br><br>

    <input type="number" placeholder="Price per KM" id="priceperKM"><br><br>
    <input type="number" placeholder="Average Speed" id="averagespeed"><br><br>

    <input type="password" placeholder="Password" id="password"><br><br>

    <button type="button" onclick="registerDriver()">Submit</button>

</form>

<p id="result"></p>

<script>
function registerDriver() {

    const data = {
        licenceNo: document.getElementById("licenceNo").value,
        upiid: document.getElementById("upiid").value,
        name: document.getElementById("name").value,
        age: document.getElementById("age").value,
        mobileNo: document.getElementById("mobileNo").value,
        gender: document.getElementById("gender").value,
        mail: document.getElementById("mail").value,
        vehilename: document.getElementById("vehilename").value,
        vehileno: document.getElementById("vehileno").value,
        type: document.getElementById("type").value,
        model: document.getElementById("model").value,
        capacity: document.getElementById("capacity").value,
        longitude: document.getElementById("longitude").value,
        lattitude: document.getElementById("lattitude").value,
        priceperKM: document.getElementById("priceperKM").value,
        averagespeed: document.getElementById("averagespeed").value,
        password: document.getElementById("password").value,
        role: "Driver"
    };

    fetch("http://localhost:8080/register-driver", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
        document.getElementById("result").innerText = "Registered Successfully";
        console.log(result);
    })
    .catch(error => {
        document.getElementById("result").innerText = "Error occurred";
        console.error(error);
    });
}
</script>

</body>
</html>
